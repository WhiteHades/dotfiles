# Extra autostart processes
# exec-once = uwsm app -- my-service

# on every reload: enforce clamshell, refocus to a visible WS, then restart Waybar so hyprland modules resubscribe
exec = bash -lc 'sleep 0.2; if grep -q closed /proc/acpi/button/lid/*/state 2>/dev/null; then ~/.config/hypr/lid.sh close; else ~/.config/hypr/lid.sh open; fi; hyprctl dispatch focusmonitor "HDMI-A-1"; hyprctl dispatch workspace 1'

exec = bash -lc 'if pgrep -x waybar >/dev/null; then pkill -x waybar; sleep 0.1; uwsm app -- waybar; fi'
